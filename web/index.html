<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>kuruka</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
    </head>
<body>
        <div id="container"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r75/three.js"></script>
        <script src="http://threejs.org/examples/js/controls/FlyControls.js"></script>
        <script>

            var camera, scene, renderer, controls, 
            geometry, material, mesh, pointlight;

            var clock = new THREE.Clock();

            init();
            animate();

            function init() {
                var container = document.getElementById( 'container' );
                scene = new THREE.Scene();

                camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );
                camera.position.z = 100;

                // add knot
                //geometry = new THREE.BoxGeometry( 200, 200, 200 );
                geometry = new THREE.TorusKnotGeometry( 10, 3, 100, 16, 2, 5 );
                material = new THREE.MeshLambertMaterial( { color: 0xff0000 } );
                mesh = new THREE.Mesh( geometry, material );
                mesh.rotation.z = Math.PI/2;
                scene.add( mesh );

                // add light
                pointlight = new THREE.PointLight( 0xffffff, 1, 0 );
                pointlight.position.set(50, 1000, 1000);
                scene.add( pointlight );

                // GROUND
                var groundGeo = new THREE.PlaneBufferGeometry( 10000, 10000 );
                var groundMat = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x050505 } );
                groundMat.color.setHSL( 0.095, 1, 0.75 );
                var ground = new THREE.Mesh( groundGeo, groundMat );
                ground.rotation.x = -Math.PI/2;
                ground.position.y = -33;
                scene.add( ground );
                ground.receiveShadow = true;

                // add controls

                controls = new THREE.FlyControls( camera );
                controls.movementSpeed = 50;
                controls.rollSpeed = Math.PI / 2;
                controls.autoForward = false;
                controls.domElement = container;
                controls.dragToLook = false;

                renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );

                container.appendChild( renderer.domElement );
            }

            function animate() {
                requestAnimationFrame( animate );
                render();
            }

            function render() {
                var delta = clock.getDelta();
                //mesh.rotation.x += 0.01;
                mesh.rotation.y += 0.02;
                controls.update( delta );
                renderer.render( scene, camera );
            }

        </script>
</body>
</html>
